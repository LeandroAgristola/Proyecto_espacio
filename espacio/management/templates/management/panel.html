{% extends "management/layout_management.html" %}
{% load static %}

{% block content %}
<div class="container-fluid" id="#">

  <!-- Clientes: Altas vs Bajas -->
  <div class="row g-4">
    <!-- Clientes -->
    <div class="col-md-6">
      <div class="bg-white p-4 rounded shadow-sm">
        <h5 class="mb-3">Movimiento Anual de Clientes</h5>
        <canvas id="chartClientes"></canvas>
        <p class="mt-3 text-muted text-center">Año calendario completo</p>
      </div>
    </div>

    <!-- Para el gráfico de disponibilidad diaria (Turnos por Día) -->
    <div class="col-md-6">
      <div class="chart-panel">
        <h5 class="mb-3">Disponibilidad Diaria de Turnos</h5>
        <div class="mb-3">
          <button class="btn-range btn-calendario-range active" data-range="actual">Este mes</button>
          <button class="btn-range btn-calendario-range" data-range="siguiente">Próximo mes</button>
        </div>
        <div class="chart-wrapper">
          <canvas id="chartCalendario"></canvas>
        </div>
      </div>
    </div>

  <!-- Para el gráfico de planes (Gente por Plan) -->
  <div class="col-md-6">
    <div class="chart-panel">
      <h5 class="mb-3">Cantidad de Gente por Plan</h5>
      <div class="chart-wrapper">
        <div class="pie-chart-container">
          <canvas id="chartPlanes"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Participación en Eventos -->
  <div class="col-md-6">
    <div class="bg-white p-4 rounded shadow-sm">
      <h5 class="mb-3">Eventos: Participación</h5>
      <div class="mb-3">
        <button class="btn btn-outline-primary btn-sm me-2 btn-range active" data-range="4">Últimos 4</button>
        <button class="btn btn-outline-primary btn-sm me-2 btn-range" data-range="8">Últimos 8</button>
        <button class="btn btn-outline-primary btn-sm btn-range" data-range="12">Últimos 12</button>
      </div>
      <canvas id="chartEventos"></canvas>
      <div class="mt-3 d-flex justify-content-between">
        <span class="badge bg-warning text-dark">Cancelados: <span id="cancelados">0</span></span>
        <span class="badge bg-info text-dark">Ocupación promedio: <span id="promedio">0</span>%</span>
      </div>
    </div>
  </div>

</div>
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<script src="{% static 'management/js/panel_estadisticas.js' %}"></script>
{% endblock %}
